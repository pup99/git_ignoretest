/*
 * PhoenixonControls_CALIBRATION.c
 *
 *  5V300A ¿Â∫Ò
 *
 */
#include "../../../common/include/F28x_Project.h"
#include "../../../common/include/driverlib.h"
#include "../../../common/include/device.h"

#pragma CODE_SECTION(CALIBRATION_ConversionREF, ".TI.ramfunc");
#pragma CODE_SECTION(CALIBRATION_ConversionCurrentADC, ".TI.ramfunc");
#pragma CODE_SECTION(CALIBRATION_ConversionVoltageADC, ".TI.ramfunc");

#ifdef _DEBUG_PRINTF_CALL
#include <stdio.h>
#endif

// 1Line_2

//
//**********************CHANNEL_01_START**********************
//
#if COMMUNICATION_CELL_CYCLER_CHANNEL == 1
float32 VoltageCharge_REF[CALIBRATION_VOLATAGE_MAX_ARRAY_LENGTH ] = {
        0.0,
        1.0,
        2.0,
        3.0,
        4.0,
        5.0
};
float32 VoltageDischarge_REF[CALIBRATION_VOLATAGE_MAX_ARRAY_LENGTH ] = {
        0.0,
        1.0,
        2.0,
        3.0,
        4.0,
        5.0
};
float32 VoltageCharge_ADC[CALIBRATION_VOLATAGE_MAX_ARRAY_LENGTH ] = {
        4.71E-05   ,
        0.999685049,
        1.9994458  ,
        2.99915671 ,
        3.99898338 ,
        4.99851084
};
float32 VoltageDischarge_ADC[CALIBRATION_VOLATAGE_MAX_ARRAY_LENGTH ] = {
        7.63E-05   ,
        0.999751151,
        1.99951172 ,
        2.99923468 ,
        3.99906158 ,
        4.99858475
};
float32 CurrentCharge_REF[CALIBRATION_CURRENT_MAX_ARRAY_LENGTH ] = {
        0.048  ,
        10.04538  ,
        20.04284  ,
        30.04032  ,
        40.03919  ,
        50.03854  ,
        60.03734  ,
        70.03899  ,
        80.03672  ,
        90.03492  ,
        100.03332 ,
        110.02932 ,
        120.02414 ,
        130.01895 ,
        140.02074 ,
        150.01362 ,
        160.00640 ,
        169.99788 ,
        179.99132 ,
        189.98150 ,
        199.97256 ,
        209.96753 ,
        219.95426 ,
        229.94352 ,
        239.92845 ,
        249.91667 ,
        259.90385 ,
        269.89016 ,
        279.87448 ,
        289.86061 ,
        299.86282 ,
        310.0
};
float32 CurrentDischarge_REF[CALIBRATION_CURRENT_MAX_ARRAY_LENGTH ] = {
        -0.038  ,
        9.96246   ,
        19.95934  ,
        29.95638  ,
        39.95397  ,
        49.95214  ,
        59.94974  ,
        69.95044  ,
        79.94722  ,
        89.94444  ,
        99.94042  ,
        109.93650 ,
        119.93024 ,
        129.92370 ,
        139.92405 ,
        149.91568 ,
        159.90640 ,
        169.89618 ,
        179.88795 ,
        189.87621 ,
        199.86392 ,
        209.85519 ,
        219.84022 ,
        229.82588 ,
        239.80913 ,
        249.78931 ,
        259.76152 ,
        269.77583 ,
        279.75400 ,
        289.73812 ,
        299.71172 ,
        310.0
};
float32 CurrentCharge_ADC[CALIBRATION_CURRENT_MAX_ARRAY_LENGTH ] = {
        0.011      ,
        10.0096598 ,
        19.9990578 ,
        29.9888153 ,
        39.9819984 ,
        49.9770164 ,
        59.9686775 ,
        69.9638519 ,
        79.9577484 ,
        89.9504013 ,
        99.9409943 ,
        109.935379 ,
        119.924675 ,
        129.917923 ,
        139.916763 ,
        149.90863  ,
        159.899551 ,
        169.89386  ,
        179.885773 ,
        189.879242 ,
        199.869202 ,
        209.87001  ,
        219.855179 ,
        229.851425 ,
        239.843704 ,
        249.831879 ,
        259.822479 ,
        269.811157 ,
        279.798187 ,
        289.794159 ,
        299.784119 ,
        310.0
};
float32 CurrentDischarge_ADC[CALIBRATION_CURRENT_MAX_ARRAY_LENGTH ] = {
        -0.018     ,
        9.97698307 ,
        19.9709606 ,
        29.9576435 ,
        39.9519768 ,
        49.9411507 ,
        59.9361916 ,
        69.9292831 ,
        79.9222031 ,
        89.9154282 ,
        99.9073715 ,
        109.898056 ,
        119.888313 ,
        129.879471 ,
        139.88063  ,
        149.872284 ,
        159.862    ,
        169.854141 ,
        179.850403 ,
        189.840836 ,
        199.834412 ,
        209.830994 ,
        219.821091 ,
        229.816254 ,
        239.804047 ,
        249.791992 ,
        259.771057 ,
        269.778595 ,
        279.765198 ,
        289.766876 ,
        299.756958 ,
        310.0
};
#endif
//
//**********************CHANNEL_01_END************************
//

//
//**********************CHANNEL_02_START**********************
//
#if COMMUNICATION_CELL_CYCLER_CHANNEL == 2
float32 VoltageCharge_REF[CALIBRATION_VOLATAGE_MAX_ARRAY_LENGTH ] = {
        0.0,
        1.0,
        2.0,
        3.0,
        4.0,
        5.0
};
float32 VoltageDischarge_REF[CALIBRATION_VOLATAGE_MAX_ARRAY_LENGTH ] = {
        0.0,
        1.0,
        2.0,
        3.0,
        4.0,
        5.0
};
float32 VoltageCharge_ADC[CALIBRATION_VOLATAGE_MAX_ARRAY_LENGTH ] = {
        0.000299644,
        0.999603271,
        1.99946749 ,
        2.99926758 ,
        3.99918079 ,
        4.99885416
};
float32 VoltageDischarge_ADC[CALIBRATION_VOLATAGE_MAX_ARRAY_LENGTH ] = {
        0.000332451,
        1.00023019 ,
        2.00006604 ,
        2.99988031 ,
        3.99987245 ,
        4.99945402
};
float32 CurrentCharge_REF[CALIBRATION_CURRENT_MAX_ARRAY_LENGTH ] = {
        -0.00476  ,
        9.985241786 ,
        19.9686088  ,
        29.95090094 ,
        39.93696763 ,
        49.92105955 ,
        59.90737621 ,
        69.89471774 ,
        79.87803476 ,
        89.86265162 ,
        99.84384389 ,
        109.8272859 ,
        119.8157523 ,
        129.7898204 ,
        139.7799866 ,
        149.7573294 ,
        159.7375718 ,
        169.7136896 ,
        179.693957  ,
        189.66975   ,
        199.6470677 ,
        209.6264102 ,
        219.6022281 ,
        229.578671  ,
        239.5529891 ,
        249.5270572 ,
        259.5010504 ,
        269.4759184 ,
        279.4496366 ,
        289.4248046 ,
        299.3946982 ,
        310.0
};
float32 CurrentDischarge_REF[CALIBRATION_CURRENT_MAX_ARRAY_LENGTH ] = {
        0.008212  ,
        9.997815264   ,
        19.98193219   ,
        29.96369939   ,
        39.9495661    ,
        49.93350805   ,
        59.91849986   ,
        69.90586639   ,
        79.88970835   ,
        89.87205048   ,
        99.85404266   ,
        109.8362098   ,
        119.8177521   ,
        129.7971695   ,
        139.7836862   ,
        149.7635536   ,
        159.7429711   ,
        169.718989    ,
        179.6982065   ,
        189.6732745   ,
        199.6491675   ,
        209.62806     ,
        219.602903    ,
        229.5770712   ,
        239.5514643   ,
        249.5240076   ,
        259.4972258   ,
        269.4689193   ,
        279.4425624   ,
        289.4182054   ,
        299.3868492   ,
        310.0
};
float32 CurrentCharge_ADC[CALIBRATION_CURRENT_MAX_ARRAY_LENGTH ] = {
        0.01690               ,
        10.0169039        ,
        20.0090733        ,
        30.0005493        ,
        39.9949226        ,
        49.9881058        ,
        59.9821243        ,
        69.9811172        ,
        79.973732         ,
        89.9690781        ,
        99.9626389        ,
        109.95665         ,
        119.955223        ,
        129.943466        ,
        139.94664         ,
        149.939255        ,
        159.931458        ,
        169.922012        ,
        179.918106        ,
        189.91095         ,
        199.903824        ,
        209.900116        ,
        219.894562        ,
        229.888763        ,
        239.88356         ,
        249.873764        ,
        259.868561        ,
        269.862549        ,
        279.854492        ,
        289.8508          ,
        299.843353        ,
        310.0
};
float32 CurrentDischarge_ADC[CALIBRATION_CURRENT_MAX_ARRAY_LENGTH ] = {
        0.01834         ,
        9.98166752      ,
        19.9734001      ,
        29.9639874      ,
        39.9576874      ,
        49.9491806      ,
        59.9429245      ,
        69.938446       ,
        79.9327087      ,
        89.9268112      ,
        99.9206543      ,
        109.913406      ,
        119.905167      ,
        129.898895      ,
        139.898224      ,
        149.890167      ,
        159.886887      ,
        169.876907      ,
        179.873322      ,
        189.863907      ,
        199.856171      ,
        209.852539      ,
        219.846985      ,
        229.840714      ,
        239.835648      ,
        249.828598      ,
        259.82486       ,
        269.824005      ,
        279.81189       ,
        289.812042      ,
        299.809418      ,
        310.0
};
#endif
//
//**********************CHANNEL_02_END************************
//

//
//**********************CHANNEL_03_START**********************
//
#if COMMUNICATION_CELL_CYCLER_CHANNEL == 3
float32 VoltageCharge_REF[CALIBRATION_VOLATAGE_MAX_ARRAY_LENGTH ] = {
        0.0,
        1.0,
        1.999,
        2.999,
        3.999,
        5.0
};
float32 VoltageDischarge_REF[CALIBRATION_VOLATAGE_MAX_ARRAY_LENGTH ] = {
        0.0,
        1.0,
        2.0,
        3.0,
        4.0,
        5.0
};
float32 VoltageCharge_ADC[CALIBRATION_VOLATAGE_MAX_ARRAY_LENGTH ] = {
        0.000481987,
        0.999379873,
        1.99923706 ,
        2.99912953 ,
        3.99902987 ,
        4.99873447
};
float32 VoltageDischarge_ADC[CALIBRATION_VOLATAGE_MAX_ARRAY_LENGTH ] = {
        0.00038147,
        1.0002954 ,
        2.00016236,
        2.99999285,
        3.99993587,
        4.99959135
};
float32 CurrentCharge_REF[CALIBRATION_CURRENT_MAX_ARRAY_LENGTH ] = {
        -0.01  ,
        9.98610  ,
        19.98416 ,
        29.98078 ,
        39.98408 ,
        49.97592 ,
        59.98168 ,
        69.98748 ,
        79.98506 ,
        89.98504 ,
        99.97706 ,
        109.97550,
        119.97149,
        129.96873,
        139.97113,
        149.96301,
        159.95711,
        169.94865,
        179.94185,
        189.93223,
        199.92243,
        209.91520,
        219.90442,
        229.89278,
        239.87914,
        249.86705,
        259.85357,
        269.84175,
        279.82475,
        289.81490,
        299.82177,
        310
};
float32 CurrentDischarge_REF[CALIBRATION_CURRENT_MAX_ARRAY_LENGTH ] = {
        0.022  ,
        10.02006  ,
        20.01686  ,
        30.01420  ,
        40.01216  ,
        50.00986  ,
        60.00718  ,
        70.00900  ,
        80.00494  ,
        90.00158  ,
        99.99690  ,
        109.99258 ,
        119.98670 ,
        129.97978 ,
        139.97986 ,
        149.97157 ,
        159.96295 ,
        169.95269 ,
        179.94379 ,
        189.93169 ,
        199.91980 ,
        209.91056 ,
        219.89590 ,
        229.88158 ,
        239.86387 ,
        249.84387 ,
        259.81711 ,
        269.84045 ,
        279.81813 ,
        289.80174 ,
        299.77560 ,
        310
};
float32 CurrentCharge_ADC[CALIBRATION_CURRENT_MAX_ARRAY_LENGTH ] = {
        0.01          ,
        10.0090427 ,
        20.0044518 ,
        30.0082111 ,
        40.0108032 ,
        49.9987068 ,
        60.0029869 ,
        70.0042572 ,
        80.0029602 ,
        90.0006638 ,
        99.9958115 ,
        109.991707 ,
        119.988075 ,
        129.988342 ,
        139.992859 ,
        149.990402 ,
        159.986465 ,
        169.982727 ,
        179.979599 ,
        189.974625 ,
        199.973312 ,
        209.97583  ,
        219.97551  ,
        229.970825 ,
        239.969955 ,
        249.969391 ,
        259.964264 ,
        269.960602 ,
        279.956909 ,
        289.956879 ,
        299.951721 ,
        310
};
float32 CurrentDischarge_ADC[CALIBRATION_CURRENT_MAX_ARRAY_LENGTH ] = {
        -0.01      ,
        9.98888493 ,
        19.98559   ,
        29.9813862 ,
        39.979393  ,
        49.9744072 ,
        59.972496  ,
        69.9743652 ,
        79.9704361 ,
        89.9662476 ,
        99.9615402 ,
        109.957314 ,
        119.956551 ,
        129.954025 ,
        139.958862 ,
        149.956802 ,
        159.949554 ,
        169.945313 ,
        179.943954 ,
        189.939941 ,
        199.934189 ,
        209.936249 ,
        219.934158 ,
        229.930252 ,
        239.925186 ,
        249.917557 ,
        259.903473 ,
        269.915863 ,
        279.912933 ,
        289.913513 ,
        299.910004 ,
        310
};
#endif
//
//**********************CHANNEL_03_END************************
//

//
//**********************CHANNEL_04_START**********************
//
#if COMMUNICATION_CELL_CYCLER_CHANNEL == 4
float32 VoltageCharge_REF[CALIBRATION_VOLATAGE_MAX_ARRAY_LENGTH ] = {
        0.0,
        1.0,
        1.999,
        2.999,
        3.999,
        5.0
};
float32 VoltageDischarge_REF[CALIBRATION_VOLATAGE_MAX_ARRAY_LENGTH ] = {
        0.0,
        1.0,
        2.0,
        3.0,
        4.0,
        5.0
};
float32 VoltageCharge_ADC[CALIBRATION_VOLATAGE_MAX_ARRAY_LENGTH ] = {
        0.000402832,
        0.999521494,
        1.99948502 ,
        2.99934077 ,
        3.99937463 ,
        4.99901962
};
float32 VoltageDischarge_ADC[CALIBRATION_VOLATAGE_MAX_ARRAY_LENGTH ] = {
        0.000305176,
        1.00027585 ,
        2.00018787 ,
        3.00007176 ,
        4.00006533 ,
        4.99976349
};
float32 CurrentCharge_REF[CALIBRATION_CURRENT_MAX_ARRAY_LENGTH ] = {
        0.05  ,
        10.04669 ,
        20.03915 ,
        30.03039 ,
        40.02380 ,
        50.01776 ,
        60.01130 ,
        70.00802 ,
        80.00182 ,
        89.99640 ,
        99.98832 ,
        109.98250,
        119.97442,
        129.96303,
        139.96043,
        149.94991,
        159.93703,
        169.92587,
        179.91490,
        189.90052,
        199.88788,
        209.87760,
        219.86149,
        229.84739,
        239.83239,
        249.81554,
        259.79698,
        269.78104,
        279.76542,
        289.75233,
        299.73259,
        310
};
float32 CurrentDischarge_REF[CALIBRATION_CURRENT_MAX_ARRAY_LENGTH ] = {
        -0.0411123  ,
        9.95015  ,
        19.94305 ,
        29.93493 ,
        39.92875 ,
        49.92185 ,
        59.91562 ,
        69.91124 ,
        79.90426 ,
        89.89602 ,
        99.88774 ,
        109.87976,
        119.86846,
        129.85707,
        139.85341,
        149.83991,
        159.82683,
        169.81294,
        179.80036,
        189.78326,
        199.76554,
        209.75103,
        219.73043,
        229.70644,
        239.67566,
        249.68684,
        259.66030,
        269.63533,
        279.60921,
        289.58310,
        299.54007,
        310
};
float32 CurrentCharge_ADC[CALIBRATION_CURRENT_MAX_ARRAY_LENGTH ] = {
        0.01,
        10.008358 ,
        19.9990635,
        29.990612 ,
        39.9833641,
        49.9762192,
        59.9698982,
        69.9666519,
        79.9603958,
        89.9538651,
        99.9489822,
        109.94207 ,
        119.934364,
        129.927689,
        139.930191,
        149.923279,
        159.916351,
        169.90712 ,
        179.900192,
        189.890686,
        199.884384,
        209.883728,
        219.877335,
        229.874084,
        239.865753,
        249.859924,
        259.853149,
        269.850647,
        279.845856,
        289.846924,
        299.836456,
        310
};
float32 CurrentDischarge_ADC[CALIBRATION_CURRENT_MAX_ARRAY_LENGTH ] = {
        -0.016     ,
        9.97696972 ,
        19.9680729 ,
        29.9583893 ,
        39.9523659 ,
        49.9441109 ,
        59.9378624 ,
        69.9324417 ,
        79.9264603 ,
        89.9185715 ,
        99.9114914 ,
        109.90416  ,
        119.895546 ,
        129.886612 ,
        139.888596 ,
        149.880692 ,
        159.87384  ,
        169.865112 ,
        179.860016 ,
        189.849976 ,
        199.841965 ,
        209.839508 ,
        219.831665 ,
        229.823456 ,
        239.807251 ,
        249.810181 ,
        259.802856 ,
        269.797791 ,
        279.792908 ,
        289.785797 ,
        299.766144 ,
        310
};
#endif
//
//**********************CHANNEL_04_END************************
//

//
//**********************CHANNEL_05_START**********************
//
#if COMMUNICATION_CELL_CYCLER_CHANNEL == 5
float32 VoltageCharge_REF[CALIBRATION_VOLATAGE_MAX_ARRAY_LENGTH ] = {
        0.0,
        1.0,
        1.999,
        2.998,
        3.998,
        5.0
};
float32 VoltageDischarge_REF[CALIBRATION_VOLATAGE_MAX_ARRAY_LENGTH ] = {
        0.0,
        1.0,
        1.999,
        2.999,
        3.999,
        5.0
};
float32 VoltageCharge_ADC[CALIBRATION_VOLATAGE_MAX_ARRAY_LENGTH ] = {
        0.000167465,
        0.999872327,
        1.99986982 ,
        2.99980474 ,
        3.99993396 ,
        4.99978733
};
float32 VoltageDischarge_ADC[CALIBRATION_VOLATAGE_MAX_ARRAY_LENGTH ] = {
        9.16E-05   ,
        0.999907136,
        1.99991393 ,
        2.99984241 ,
        4.00004578 ,
        4.99987555
};
float32 CurrentCharge_REF[CALIBRATION_CURRENT_MAX_ARRAY_LENGTH ] = {
        0.08212111  ,
        10.07491 ,
        20.06291 ,
        30.03836 ,
        40.02788 ,
        50.01660 ,
        60.00683 ,
        69.99880 ,
        79.98197 ,
        89.96989 ,
        99.95902 ,
        109.94519,
        119.93049,
        129.91331,
        139.90493,
        149.88768,
        159.86990,
        169.84980,
        179.83197,
        189.81206,
        199.79129,
        209.77456,
        219.75233,
        229.73085,
        239.70842,
        249.68414,
        259.65969,
        269.63663,
        279.61075,
        289.58827,
        299.56179,
        310
};
float32 CurrentDischarge_REF[CALIBRATION_CURRENT_MAX_ARRAY_LENGTH ] = {
        -0.064121  ,
        9.92154   ,
        19.90933  ,
        29.89558  ,
        39.88278  ,
        49.86935  ,
        59.85620  ,
        69.84675  ,
        79.83294  ,
        89.81829  ,
        99.80296  ,
        109.78798 ,
        119.77123 ,
        129.75325 ,
        139.74185 ,
        149.72267 ,
        159.70309 ,
        169.68171 ,
        179.66256 ,
        189.63916 ,
        199.61593 ,
        209.59515 ,
        219.57052 ,
        229.54626 ,
        239.51833 ,
        249.48745 ,
        259.45095 ,
        269.45810 ,
        279.42434 ,
        289.39509 ,
        299.36068 ,
        310
};
float32 CurrentCharge_ADC[CALIBRATION_CURRENT_MAX_ARRAY_LENGTH ] = {
        -0.005     ,
        9.98528671 ,
        19.9780712 ,
        29.9742985 ,
        39.9714508 ,
        49.9657707 ,
        59.9611092 ,
        69.961731  ,
        79.9551468 ,
        89.954422  ,
        99.9466476 ,
        109.942848 ,
        119.938141 ,
        129.932053 ,
        139.934189 ,
        149.927399 ,
        159.923187 ,
        169.915375 ,
        179.914749 ,
        189.908646 ,
        199.9048   ,
        209.903473 ,
        219.901047 ,
        229.897827 ,
        239.892441 ,
        249.885284 ,
        259.882935 ,
        269.87735  ,
        279.874329 ,
        289.871521 ,
        299.871155 ,
        310
};
float32 CurrentDischarge_ADC[CALIBRATION_CURRENT_MAX_ARRAY_LENGTH ] = {
        0.032      ,
        10.0281591 ,
        20.024456  ,
        30.0143681 ,
        40.0125046 ,
        50.0019226 ,
        59.9994545 ,
        69.9961243 ,
        79.9909973 ,
        89.9865799 ,
        99.9808655 ,
        109.975182 ,
        119.970421 ,
        129.962921 ,
        139.964279 ,
        149.958649 ,
        159.956085 ,
        169.947433 ,
        179.947067 ,
        189.934647 ,
        199.934769 ,
        209.934937 ,
        219.926971 ,
        229.925278 ,
        239.916794 ,
        249.908646 ,
        259.897156 ,
        269.902313 ,
        279.898834 ,
        289.900482 ,
        299.892029 ,
        310
};
#endif
//
//**********************CHANNEL_05_END************************
//

//
//**********************CHANNEL_06_START**********************
//
#if COMMUNICATION_CELL_CYCLER_CHANNEL == 6
float32 VoltageCharge_REF[CALIBRATION_VOLATAGE_MAX_ARRAY_LENGTH ] = {
        0.0,
        1.0,
        2.0,
        2.997,
        3.997,
        5.0
};
float32 VoltageDischarge_REF[CALIBRATION_VOLATAGE_MAX_ARRAY_LENGTH ] = {
        0.0,
        1.0,
        1.999,
        2.998,
        3.998,
        5.0
};
float32 VoltageCharge_ADC[CALIBRATION_VOLATAGE_MAX_ARRAY_LENGTH ] = {
        0.000152588,
        0.99987334 ,
        1.99991274 ,
        2.99991417 ,
        4.00005579 ,
        4.99987411
};
float32 VoltageDischarge_ADC[CALIBRATION_VOLATAGE_MAX_ARRAY_LENGTH ] = {
        3.20E-05   ,
        0.999993443,
        2.00005603 ,
        3.00003529 ,
        4.00021362 ,
        5.00000668
};
float32 CurrentCharge_REF[CALIBRATION_CURRENT_MAX_ARRAY_LENGTH ] = {
        0.05  ,
        10.04491 ,
        20.03055 ,
        30.01910 ,
        40.00788 ,
        49.99808 ,
        59.98686 ,
        69.98134 ,
        79.97624 ,
        89.95937 ,
        99.94145 ,
        109.92833,
        119.91824,
        129.90772,
        139.90182,
        149.88482,
        159.86617,
        169.84711,
        179.83199,
        189.81438,
        199.78854,
        209.77326,
        219.75221,
        229.72895,
        239.70478,
        249.68400,
        259.66092,
        269.63763,
        279.61251,
        289.59052,
        299.56262,
        310
};
float32 CurrentDischarge_REF[CALIBRATION_CURRENT_MAX_ARRAY_LENGTH ] = {
        -0.04  ,
        9.94755   ,
        19.93211  ,
        29.91880  ,
        39.90544  ,
        49.89328  ,
        59.88050  ,
        69.87106  ,
        79.85795  ,
        89.84409  ,
        99.82989  ,
        109.81500 ,
        119.80016 ,
        129.78406 ,
        139.77342 ,
        149.75513 ,
        159.73609 ,
        169.71589 ,
        179.69630 ,
        189.67542 ,
        199.65249 ,
        209.63487 ,
        219.61175 ,
        229.58970 ,
        239.56370 ,
        249.53625 ,
        259.54335 ,
        269.51739 ,
        279.49142 ,
        289.47384 ,
        299.44479 ,
        310
};
float32 CurrentCharge_ADC[CALIBRATION_CURRENT_MAX_ARRAY_LENGTH ] = {
        0.008      ,
        10.0056791 ,
        19.9991302 ,
        29.9931107 ,
        39.9860916 ,
        49.9819565 ,
        59.9763756 ,
        69.9753113 ,
        79.9656601 ,
        89.9663849 ,
        99.9622116 ,
        109.95195  ,
        119.954895 ,
        129.950607 ,
        139.952225 ,
        149.947617 ,
        159.940445 ,
        169.935745 ,
        179.932693 ,
        189.926331 ,
        199.921417 ,
        209.920288 ,
        219.917358 ,
        229.913467 ,
        239.906937 ,
        249.902695 ,
        259.898926 ,
        269.895203 ,
        279.889313 ,
        289.888062 ,
        299.883606 ,
        310
};
float32 CurrentDischarge_ADC[CALIBRATION_CURRENT_MAX_ARRAY_LENGTH ] = {
        0.0004     ,
        10.0003424 ,
        19.9896927 ,
        29.983057  ,
        39.9772339 ,
        49.9719925 ,
        59.9639778 ,
        69.9612503 ,
        79.9562225 ,
        89.9514923 ,
        99.9472122 ,
        109.940964 ,
        119.934898 ,
        129.926834 ,
        139.928772 ,
        149.921692 ,
        159.916153 ,
        169.910233 ,
        179.906235 ,
        189.900772 ,
        199.894135 ,
        209.89386  ,
        219.887695 ,
        229.884506 ,
        239.87886  ,
        249.87291  ,
        259.8685   ,
        269.864746 ,
        279.862946 ,
        289.861877 ,
        299.850159 ,
        310
};
#endif
//
//**********************CHANNEL_06END************************
//

//
//**********************CHANNEL_07_START**********************
//
#if COMMUNICATION_CELL_CYCLER_CHANNEL == 7
float32 VoltageCharge_REF[CALIBRATION_VOLATAGE_MAX_ARRAY_LENGTH ] = {
        0.0,
        1.0,
        1.998,
        2.998,
        3.998,
        5.0
};
float32 VoltageDischarge_REF[CALIBRATION_VOLATAGE_MAX_ARRAY_LENGTH ] = {
        0.0,
        1.0,
        1.999,
        2.999,
        3.999,
        5.0
};
float32 VoltageCharge_ADC[CALIBRATION_VOLATAGE_MAX_ARRAY_LENGTH ] = {
        0.000209999,
        0.999973774,
        2.00005603 ,
        3.00015736 ,
        4.00030518 ,
        5.00025082
};
float32 VoltageDischarge_ADC[CALIBRATION_VOLATAGE_MAX_ARRAY_LENGTH ] = {
        0.000104904,
        1.00000215 ,
        2.00012207 ,
        3.0002315  ,
        4.00041533 ,
        5.00035381
};
float32 CurrentCharge_REF[CALIBRATION_CURRENT_MAX_ARRAY_LENGTH ] = {
        -0.001  ,
        9.98784   ,
        19.98802  ,
        29.98536  ,
        39.98382  ,
        49.98348  ,
        59.98140  ,
        69.98412  ,
        79.98300  ,
        89.98078  ,
        99.97716  ,
        109.97434 ,
        119.96869 ,
        129.96365 ,
        139.96523 ,
        149.95695 ,
        159.95021 ,
        169.94113 ,
        179.93273 ,
        189.92193 ,
        199.91056 ,
        209.90256 ,
        219.88914 ,
        229.87772 ,
        239.86275 ,
        249.84757 ,
        259.83057 ,
        269.81659 ,
        279.79956 ,
        289.78616 ,
        299.75475 ,
        310
};
float32 CurrentDischarge_REF[CALIBRATION_CURRENT_MAX_ARRAY_LENGTH ] = {
        0.02  ,
        10.01948  ,
        20.01864  ,
        30.01574  ,
        40.01364  ,
        50.01188  ,
        60.00932  ,
        70.01062  ,
        80.00760  ,
        90.00440  ,
        99.99976  ,
        109.99518 ,
        119.98888 ,
        129.98157 ,
        139.98144 ,
        149.97171 ,
        159.96293 ,
        169.95223 ,
        179.94231 ,
        189.92915 ,
        199.91494 ,
        209.90376 ,
        219.88828 ,
        229.87206 ,
        239.85145 ,
        249.86533 ,
        259.84417 ,
        269.82983 ,
        279.80848 ,
        289.79080 ,
        299.76768 ,
        310
};
float32 CurrentCharge_ADC[CALIBRATION_CURRENT_MAX_ARRAY_LENGTH ] = {
        0.02       ,
        10.0226555 ,
        20.0248165 ,
        30.0236816 ,
        40.0275497 ,
        50.0349693 ,
        60.0396881 ,
        70.0424118 ,
        80.047348  ,
        90.04496   ,
        100.050102 ,
        110.049988 ,
        120.052956 ,
        130.055847 ,
        140.068878 ,
        150.069946 ,
        160.072235 ,
        170.073257 ,
        180.078049 ,
        190.078949 ,
        200.079132 ,
        210.085892 ,
        220.08902  ,
        230.094498 ,
        240.09613  ,
        250.097107 ,
        260.096832 ,
        270.097992 ,
        280.098816 ,
        290.101196 ,
        300.079193 ,
        310
};
float32 CurrentDischarge_ADC[CALIBRATION_CURRENT_MAX_ARRAY_LENGTH ] = {
        -0.01      ,
        9.99258995 ,
        19.9955006 ,
        29.9948559 ,
        40.0000267 ,
        50.0023155 ,
        60.0043793 ,
        70.0123062 ,
        80.0110168 ,
        90.0133667 ,
        100.01503  ,
        110.011978 ,
        120.016174 ,
        130.018387 ,
        140.029404 ,
        150.029648 ,
        160.033966 ,
        170.035706 ,
        180.038071 ,
        190.037735 ,
        200.038239 ,
        210.049393 ,
        220.049393 ,
        230.04924  ,
        240.046722 ,
        250.051498 ,
        260.051605 ,
        270.05426  ,
        280.055725 ,
        290.058929 ,
        300.058197 ,
        310
};
#endif
//
//**********************CHANNEL_07_END************************
//

//
//**********************CHANNEL_08_START**********************
//
#if COMMUNICATION_CELL_CYCLER_CHANNEL == 8
float32 VoltageCharge_REF[CALIBRATION_VOLATAGE_MAX_ARRAY_LENGTH ] = {
        0.0,
        1.0,
        1.999,
        2.999,
        3.999,
        5.0
};
float32 VoltageDischarge_REF[CALIBRATION_VOLATAGE_MAX_ARRAY_LENGTH ] = {
        0.0,
        1.0,
        2.0,
        3.0,
        4.0,
        5.0
};
float32 VoltageCharge_ADC[CALIBRATION_VOLATAGE_MAX_ARRAY_LENGTH ] = {
        0.000305176,
        0.999526262,
        1.99927247 ,
        2.99902678 ,
        3.99896789 ,
        4.99849558
};
float32 VoltageDischarge_ADC[CALIBRATION_VOLATAGE_MAX_ARRAY_LENGTH ] = {
        0.00038147,
        1.00013149,
        1.99987566,
        2.99964356,
        3.9995029 ,
        4.99903107
};
float32 CurrentCharge_REF[CALIBRATION_CURRENT_MAX_ARRAY_LENGTH ] = {
        0.03  ,
        10.02871  ,
        20.01672  ,
        30.00302  ,
        39.99230  ,
        49.98122  ,
        59.97053  ,
        69.96381  ,
        79.95235  ,
        89.94039  ,
        99.92849  ,
        109.91588 ,
        119.90214 ,
        129.88724 ,
        139.87948 ,
        149.86299 ,
        159.84581 ,
        169.82717 ,
        179.81118 ,
        189.79078 ,
        199.77086 ,
        209.75537 ,
        219.73241 ,
        229.71087 ,
        239.68724 ,
        249.66292 ,
        259.63843 ,
        269.61503 ,
        279.58838 ,
        289.56608 ,
        299.53641 ,
        310
};
float32 CurrentDischarge_REF[CALIBRATION_CURRENT_MAX_ARRAY_LENGTH ] = {
        -0.03  ,
        9.95277   ,
        19.94137  ,
        29.92771  ,
        39.91630  ,
        49.90384  ,
        59.89180  ,
        69.88336  ,
        79.87078  ,
        89.85691  ,
        99.84337  ,
        109.82889 ,
        119.81306 ,
        129.79599 ,
        139.78660 ,
        149.76786 ,
        159.74865 ,
        169.72851 ,
        179.70992 ,
        189.68792 ,
        199.66562 ,
        209.64633 ,
        219.62147 ,
        229.59720 ,
        239.57014 ,
        249.54235 ,
        259.51275 ,
        269.48284 ,
        279.44497 ,
        289.47198 ,
        299.43423 ,
        310
};
float32 CurrentCharge_ADC[CALIBRATION_CURRENT_MAX_ARRAY_LENGTH ] = {
        0.005      ,
        10.0040073 ,
        19.9976578 ,
        29.9874172 ,
        39.9829941 ,
        49.9794731 ,
        59.9757652 ,
        69.9725037 ,
        79.969223  ,
        89.9628525 ,
        99.9593735 ,
        109.95446  ,
        119.948517 ,
        129.944595 ,
        139.946609 ,
        149.942459 ,
        159.935974 ,
        169.928818 ,
        179.923889 ,
        189.917862 ,
        199.913925 ,
        209.914429 ,
        219.910919 ,
        229.908218 ,
        239.901566 ,
        249.896378 ,
        259.891266 ,
        269.887115 ,
        279.879303 ,
        289.877655 ,
        299.870392 ,
        310
};
float32 CurrentDischarge_ADC[CALIBRATION_CURRENT_MAX_ARRAY_LENGTH ] = {
        -0.003     ,
        9.99502563 ,
        19.9899826 ,
        29.9800491 ,
        39.974678  ,
        49.9693832 ,
        59.9651794 ,
        69.960144  ,
        79.9558334 ,
        89.9483795 ,
        99.943428  ,
        109.936394 ,
        119.929131 ,
        129.924438 ,
        139.92804  ,
        149.922195 ,
        159.914886 ,
        169.909958 ,
        179.904877 ,
        189.896912 ,
        199.89299  ,
        209.893631 ,
        219.886993 ,
        229.885193 ,
        239.879974 ,
        249.873322 ,
        259.864655 ,
        269.855957 ,
        279.841644 ,
        289.85376  ,
        299.84729  ,
        310
};
#endif
//
//**********************CHANNEL_08_END************************
//

float32 CALIBRATION_ConversionVoltageADC(float32 ADC_Data, float32 *CAL_Data, float32 InitialValue, float32 Unit, Uint16 ArrayLength)
{
    Uint16 ArrayAddressValue = 0.0;
    Uint16 ui_i = 0;

    float Result = 0.0;
    float CalGain = 0.0;
    float CalOffset = 0.0;

    if(ADC_Data > CAL_Data[0])
    {
        for(ui_i = 0; ui_i < ArrayLength; ui_i++)
        {
            if(CAL_Data[ui_i] >= ADC_Data)
            {
                break;
            }
        }
        if (ui_i < ArrayLength)
            ArrayAddressValue = ui_i;
        else
            ArrayAddressValue = ui_i - 1;
    }
    else
    {
        return (ADC_Data);
    }

    CalGain = Unit / (CAL_Data[ArrayAddressValue] - CAL_Data[ArrayAddressValue - 1]);               //CalGain = (xH - xL)/(yH - yL)
    CalOffset = (CAL_Data[ArrayAddressValue - 1] * CalGain) - ((ArrayAddressValue - 1) * Unit);     //CalOffset = yL * CalGain - xL
    Result = ADC_Data * CalGain - CalOffset;                                                        //x = y * CalGain - CalOffset

    return (Result);
}

float32 CALIBRATION_ConversionREF(float REF_Data, float *CAL_Data, float InitialValue, float Unit, Uint16 ArrayLength)
{
    Uint16 ArrayAddressValue = 0.0;
    Uint16 ui_i = 0;

    float Result = 0.0;
    float CalGain = 0.0;
    float CalOffset = 0.0;

    if(REF_Data > CAL_Data[0])
    {
        for(ui_i = 0; ui_i < ArrayLength; ui_i++)
        {
            if(CAL_Data[ui_i] >= REF_Data)
            {
                break;
            }
        }
        if (ui_i < ArrayLength)
            ArrayAddressValue = ui_i;
        else
            ArrayAddressValue = ui_i - 1;
    }
    else
    {
        return (REF_Data);
    }

    CalGain = Unit / (CAL_Data[ArrayAddressValue] - CAL_Data[ArrayAddressValue - 1]);               //CalGain = (xH - xL)/(yH - yL)
    CalOffset = (CAL_Data[ArrayAddressValue - 1] * CalGain) - ((ArrayAddressValue - 1) * Unit);     //CalOffset = yL * CalGain - xL
    Result = REF_Data * CalGain - CalOffset;                                                        //x = y * CalGain - CalOffset

    return (Result);
}

float32 CALIBRATION_ConversionCurrentADC(float32 ADC_Data, float32 *Measure_Data, float32 *CAL_Data, float32 InitialValue, float32 Unit, Uint16 ArrayLength)
{
    Uint16 ArrayAddressValue = 0.0;
    Uint16 ui_i = 0;

    float Result = 0.0;
    float CalGain = 0.0;
    float CalOffset = 0.0;

    if(ADC_Data > Measure_Data[0])
    {
        for(ui_i = 0; ui_i < ArrayLength; ui_i++)
        {
            if(Measure_Data[ui_i] >= ADC_Data)
            {
                break;
            }
        }
        if (ui_i < ArrayLength)
            ArrayAddressValue = ui_i;
        else
            ArrayAddressValue = ui_i - 1;
    }
    else
    {
        return (ADC_Data);
    }

    CalGain = (CAL_Data[ArrayAddressValue] - CAL_Data[ArrayAddressValue - 1]) / (Measure_Data[ArrayAddressValue] - Measure_Data[ArrayAddressValue - 1]);    //CalGain = (xH - xL)/(yH - yL)
    CalOffset = (Measure_Data[ArrayAddressValue - 1] * CalGain) - CAL_Data[ArrayAddressValue - 1];                                                          //CalOffset = yL * CalGain - xL
    Result = ADC_Data * CalGain - CalOffset;                                                                                                                //x = y * CalGain - CalOffset

    return (Result);
}

//
// End of file
//
